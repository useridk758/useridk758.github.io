<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEBULA | TITAN v66.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
    
    <style>
        :root { --accent: #1DB954; --bg: #000; --border: rgba(255,255,255,0.1); }
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none !important; transition: all 0.2s ease; }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; }

        #dot { position: fixed; width: 12px; height: 12px; background: #00d2ff; border-radius: 50%; z-index: 9999999; pointer-events: none; box-shadow: 0 0 25px #00d2ff; transform: translate(-50%, -50%); transition: none; }
        #stars { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.5; animation: twinkle var(--d) infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        #top-bar {
            position: fixed; top: -60px; left: 0; width: 100%; height: 50px;
            background: rgba(10,10,10,0.95); border-bottom: 1px solid var(--border);
            display: flex; align-items: center; padding: 0 20px; z-index: 110000;
            backdrop-filter: blur(15px);
        }
        #top-bar.active { top: 0; }
        #url-display { background: rgba(255,255,255,0.05); border: 1px solid var(--border); padding: 6px 20px; border-radius: 8px; font-family: 'JetBrains Mono'; font-size: 11px; color: #00d2ff; width: 350px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

        #dock-container { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: column; align-items: center; z-index: 100001; }
        #dock-container.hidden-nav { display: none; } 
        #dock-label { margin-bottom: 10px; font-size: 10px; font-weight: 900; letter-spacing: 2px; color: #00d2ff; opacity: 0; text-transform: uppercase; }
        #dock { display: flex; gap: 12px; background: rgba(10,10,10,0.95); padding: 10px 18px; border-radius: 18px; border: 1px solid var(--border); backdrop-filter: blur(10px); }
        .dock-btn { width: 40px; height: 40px; background: #000; border: 1px solid var(--border); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .dock-btn:hover { border-color: #00d2ff; transform: translateY(-3px); }

        #workspace { position: fixed; inset: 0; z-index: 100000; display: none; background: #000; padding-top: 50px; }
        #workspace.active { display: block; }
        iframe { width: 100%; height: 100%; border: none; }

        .ui-layer { position: fixed; inset: 0; background: #000; z-index: 105000; display: none; flex-direction: column; padding: 40px; }
        .ui-layer.active { display: flex; }
        
        /* Spotify UI Classes */
        .music-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 20px; overflow-y: auto; flex-grow: 1; padding-bottom: 100px; }
        .song-card { background: #181818; padding: 16px; border-radius: 8px; cursor: pointer; }
        .song-card:hover { background: #282828; }
        .song-card img { width: 100%; aspect-ratio: 1; object-fit: cover; border-radius: 4px; margin-bottom: 12px; box-shadow: 0 8px 24px rgba(0,0,0,.5); }
        
        #player-bar { position: absolute; bottom: 0; left: 0; width: 100%; height: 90px; background: #181818; border-top: 1px solid #282828; display: flex; align-items: center; padding: 0 16px; justify-content: space-between; }
        .search-bar { background: #242424; border: none; border-radius: 500px; padding: 12px 24px; color: white; width: 300px; font-size: 14px; outline: none; margin-bottom: 24px; border: 1px solid transparent; }
        .search-bar:focus { border-color: var(--accent); }
    </style>
</head>
<body oncontextmenu="return false">

    <div id="stars"></div>
    <div id="dot"></div>
    
    <div id="top-bar">
        <div id="url-display">about:blank</div>
        <div class="ml-auto flex gap-3">
            <button onclick="Core.toggleFullscreen()" class="px-4 py-2 bg-white/5 border border-white/10 rounded-lg text-[9px] font-black">FULLSCREEN</button>
            <button onclick="Core.exitSession()" class="px-4 py-2 bg-red-500/10 border border-red-500/20 rounded-lg text-[9px] font-black text-red-500">EXIT</button>
        </div>
    </div>

    <div id="games-layer" class="ui-layer">
        <h2 class="text-3xl font-black mb-6">ARCHIVE</h2>
        <div id="games-container" class="music-grid"></div>
        <button onclick="Core.closeUI()" class="mt-4 text-[10px] opacity-40">BACK</button>
    </div>

    <div id="apps-layer" class="ui-layer">
        <h2 class="text-3xl font-black mb-6">APPLICATIONS</h2>
        <div id="apps-container" class="music-grid"></div>
        <button onclick="Core.closeUI()" class="mt-4 text-[10px] opacity-40">BACK</button>
    </div>

    <div id="music-layer" class="ui-layer">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-3xl font-black">MEDIA</h2>
            <input type="text" id="music-search" placeholder="What do you want to listen to?" class="search-bar" oninput="Media.search(this.value)">
        </div>
        
        <div id="music-results" class="music-grid">
            </div>

        <div id="player-bar">
            <div class="flex items-center w-1/3">
                <img id="now-playing-img" src="https://via.placeholder.com/60" class="w-14 h-14 rounded mr-4">
                <div>
                    <div id="now-playing-title" class="text-sm font-bold">Select a song</div>
                    <div id="now-playing-artist" class="text-xs opacity-60">System Ready</div>
                </div>
            </div>
            
            <div class="flex flex-col items-center w-1/3">
                <div class="flex gap-6 mb-2">
                    <button class="opacity-60 hover:opacity-100">‚èÆ</button>
                    <button onclick="Media.togglePlay()" class="bg-white text-black w-8 h-8 rounded-full flex items-center justify-center pl-1" id="play-btn">‚ñ∂</button>
                    <button class="opacity-60 hover:opacity-100">‚è≠</button>
                </div>
                <div class="w-full flex items-center gap-2">
                    <span class="text-[10px] opacity-40" id="curr-time">0:00</span>
                    <div class="flex-grow h-1 bg-white/10 rounded-full cursor-pointer overflow-hidden" onclick="Media.seek(event)">
                        <div id="progress-bar" class="h-full bg-white w-0"></div>
                    </div>
                    <span class="text-[10px] opacity-40">3:45</span>
                </div>
            </div>
            
            <div class="w-1/3 flex justify-end gap-4 opacity-60">
                <span>üîä</span>
                <div class="w-24 h-1 bg-white/20 rounded-full self-center"></div>
            </div>
        </div>
        <button onclick="Core.closeUI()" class="absolute top-10 right-10 text-[10px] opacity-40">CLOSE</button>
    </div>

    <div id="proxy-layer" class="ui-layer items-center justify-center">
        <div class="w-96 p-8 bg-[#121212] rounded-2xl">
            <h3 class="text-xl font-bold mb-4">IMP PROXY</h3>
            <input type="text" id="proxy-input" class="w-full bg-[#242424] p-3 rounded mb-4 outline-none border border-transparent focus:border-[#00d2ff]">
            <button onclick="Core.launch(document.getElementById('proxy-input').value, false)" class="w-full py-3 bg-[#00d2ff] text-black font-bold rounded">GO</button>
        </div>
        <button onclick="Core.closeUI()" class="mt-4 opacity-40">BACK</button>
    </div>

    <div id="workspace"><div id="render-target"></div></div>

    <div id="dock-container">
        <div id="dock-label"></div>
        <div id="dock">
            <button class="dock-btn" onmouseover="Core.setLabel('Home')" onclick="Core.exitSession()">üè†</button>
            <button class="dock-btn" onmouseover="Core.setLabel('Archive')" onclick="Core.openUI('games')">üéÆ</button>
            <button class="dock-btn" onmouseover="Core.setLabel('Apps')" onclick="Core.openUI('apps')">üì±</button>
            <button class="dock-btn" onmouseover="Core.setLabel('Media')" onclick="Core.openUI('music')">üéµ</button>
            <button class="dock-btn" onmouseover="Core.setLabel('Proxy')" onclick="Core.openUI('proxy')">üåê</button>
            <button class="dock-btn" onmouseover="Core.setLabel('Cloak')" onclick="Core.aboutBlankCloak()">üïµÔ∏è</button>
        </div>
    </div>

    <script>
        const Games = [
            { name: "1v1.lol", url: "https://useridk758.github.io/my-html-games/", img: "https://cdn-bgp.bluestacks.com/BGP/us/gametiles_lol.onevone.jpg" },
            { name: "8 Ball Pool", url: "https://useridk758.github.io/iudgyigygidisfsiusadgfagyssadyugfads/", img: "https://cdn.jsdelivr.net/gh/gn-math/covers@main/146.png" },
            { name: "Basket Random", url: "https://markakopian-sudo.github.io/basket/", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSq1_jjw0D4GzxNiZiIetbSXmsubq2HeQRNLc7yynN-tJbajuVnLtWD_MLOKLeyFEgDYmgwiQ&s=10" },
            { name: "BitLife", url: "https://markakopian-sudo.github.io/businessanasun/", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQMWgIRmr1_PK-JOKBAbLveo1O-zfgcyrw2ncdJ006Vte91uo47Jc9uqU5ce3_V53nxsyzZ&s=10" },
            { name: "Escape Road", url: "https://markakopian-sudo.github.io/somethingrandomlol/", img: "https://imgs.crazygames.com/escape-road-asm_1x1/20250724105032/escape-road-asm_1x1-cover?format=auto&quality=100&metadata=none&width=1200" },
            { name: "FNaF 2", url: "https://markakopian-sudo.github.io/understandme/", img: "https://static.wikia.nocookie.net/fivenightsatfreddys/images/b/b3/480px-Five_Nights_at_Freddy%27s_2_icon.jpg" },
            { name: "Geometry Dash Lite", url: "https://markakopian-sudo.github.io/eureka/", img: "https://play-lh.googleusercontent.com/p7kWbWBFxQIrzolEqiV5uSvctLeyssZvBV7UBOX29wzZI52IdcSs4qCB_zsQJL1mt9A" },
            { name: "Retro Bowl", url: "https://markakopian-sudo.github.io/axpersiktir/", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ0gbeEDgMCkUABqOuTD59f_-nnamoBfxmaNcTrcXy1DZSPsQMRYqhLf3lVt6iMPyweKPQm&s=10" }
        ].sort((a,b) => a.name.localeCompare(b.name));

        const Songs = [
            { title: "Blinding Lights", artist: "The Weeknd", img: "https://i.scdn.co/image/ab67616d0000b273c511394c6530a6c764e4ee5a" },
            { title: "Starboy", artist: "The Weeknd", img: "https://i.scdn.co/image/ab67616d0000b2734718e2b124f79258be7bc452" },
            { title: "One Dance", artist: "Drake", img: "https://i.scdn.co/image/ab67616d0000b273941a34633d606368d447d21b" },
            { title: "God's Plan", artist: "Drake", img: "https://i.scdn.co/image/ab67616d0000b273f907fd304076f44aed118e27" }
        ];

        const Core = {
            setLabel(t) { document.getElementById('dock-label').innerText = t; document.getElementById('dock-label').style.opacity = 1; },
            openUI(id) { this.closeUI(); document.getElementById(id+'-layer').classList.add('active'); },
            closeUI() { document.querySelectorAll('.ui-layer').forEach(l => l.classList.remove('active')); },
            exitSession() { this.closeUI(); document.getElementById('workspace').classList.remove('active'); document.getElementById('top-bar').classList.remove('active'); document.getElementById('dock-container').classList.remove('hidden-nav'); },
            launch(url, hide) { 
                this.closeUI();
                document.getElementById('render-target').innerHTML = `<iframe src="${url}"></iframe>`;
                document.getElementById('url-display').innerText = hide ? "about:blank" : url;
                document.getElementById('workspace').classList.add('active');
                document.getElementById('top-bar').classList.add('active');
                document.getElementById('dock-container').classList.add('hidden-nav');
            },
            aboutBlankCloak() { const w = window.open('about:blank'); w.document.body.innerHTML = `<iframe src="${location.href}" style="width:100vw;height:100vh;border:none;position:fixed;top:0;left:0;"></iframe>`; }
        };

        const Media = {
            playing: false,
            search(q) {
                const results = Songs.filter(s => s.title.toLowerCase().includes(q.toLowerCase()) || s.artist.toLowerCase().includes(q.toLowerCase()));
                this.render(results);
            },
            render(list) {
                const container = document.getElementById('music-results');
                container.innerHTML = list.map(s => `
                    <div class="song-card" onclick="Media.play('${s.title}', '${s.artist}', '${s.img}')">
                        <img src="${s.img}">
                        <div class="font-bold text-sm truncate">${s.title}</div>
                        <div class="text-xs opacity-60">${s.artist}</div>
                    </div>
                `).join('');
            },
            play(title, artist, img) {
                document.getElementById('now-playing-img').src = img;
                document.getElementById('now-playing-title').innerText = title;
                document.getElementById('now-playing-artist').innerText = artist;
                this.playing = true;
                document.getElementById('play-btn').innerText = "‚è∏";
                this.startProgress();
            },
            togglePlay() {
                this.playing = !this.playing;
                document.getElementById('play-btn').innerText = this.playing ? "‚è∏" : "‚ñ∂";
            },
            startProgress() {
                let p = 0;
                setInterval(() => {
                    if(this.playing && p < 100) {
                        p += 0.1;
                        document.getElementById('progress-bar').style.width = p + "%";
                    }
                }, 100);
            },
            seek(e) {
                const rect = e.currentTarget.getBoundingClientRect();
                const p = ((e.clientX - rect.left) / rect.width) * 100;
                document.getElementById('progress-bar').style.width = p + "%";
            }
        };

        // Init
        document.getElementById('games-container').innerHTML = Games.map(g => `<div class="song-card" onclick="Core.launch('${g.url}', true)"><img src="${g.img}"><p class="text-center text-[10px] font-bold uppercase">${g.name}</p></div>`).join('');
        document.getElementById('apps-container').innerHTML = `<div class="song-card" onclick="Core.launch('https://overitnotoverit.github.io/overitnotoverit/', true)"><div class="w-full aspect-square bg-red-500/20 flex items-center justify-center text-4xl mb-4">üî¥</div><p class="text-center text-[10px] font-bold uppercase">Soundboard</p></div>`;
        Media.render(Songs);
        window.onmousemove = e => { document.getElementById('dot').style.left = e.clientX+'px'; document.getElementById('dot').style.top = e.clientY+'px'; };
    </script>
</body>
</html>
