<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- STEALTH: Looks like an official school assignment -->
    <title>CS Lab 102: Data Structures</title>
    <link rel="icon" type="image/x-icon" href="https://ssl.gstatic.com">
    
    <style>
        :root { --accent: #007bff; }
        body { background-color: #050505; color: white; font-family: 'Inter', sans-serif; margin: 0; overflow: hidden; }
        canvas { position: fixed; top: 0; left: 0; z-index: -1; }
        
        .main-container { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; text-align: center; transition: opacity 1s; }
        .input-box { background: rgba(255,255,255,0.05); border: 1px solid #333; color: white; padding: 12px 25px; border-radius: 30px; width: 350px; outline: none; margin-bottom: 10px; }
        .btn { background: var(--accent); color: white; border: none; padding: 10px 25px; border-radius: 20px; cursor: pointer; font-weight: bold; }
        
        /* Intro logic styles from your photo */
        #intro-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: black; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 2000; }
        .prompt-text { font-size: 2em; opacity: 0; transition: opacity 1.5s; }
    </style>
</head>
<body>

    <canvas id="starCanvas"></canvas>

    <!-- INTRO LOGIC (Based on Photo 8) -->
    <div id="intro-overlay">
        <div id="prompt" class="prompt-text">Welcome to the Research Portal...</div>
    </div>

    <!-- MAIN UI -->
    <div class="main-container" id="main-content" style="opacity: 0; pointer-events: none;">
        <h1 style="font-weight: 200; letter-spacing: 3px;">STUDENT <span style="color: var(--accent); font-weight: 800;">PORTAL</span></h1>
        <input type="text" class="input-box" id="entry-path" placeholder="Enter Course ID or Module URL...">
        <br>
        <button class="btn" onclick="launchProxy()">Launch Environment</button>
        <p style="margin-top: 20px; color: #555; cursor: pointer;" onclick="toggleFPS()">FPS: <span id="fps-status">OFF</span></p>
    </div>

    <script>
        // 1. STARFIELD BACKGROUND (Graphics Engine)
        const canvas = document.getElementById('starCanvas');
        const ctx = canvas.getContext('2d');
        let stars = [];
        function initStars() {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            stars = [];
            for (let i = 0; i < 150; i++) stars.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, speed: Math.random() * 0.5 + 0.2 });
        }
        function drawStars() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "white";
            stars.forEach(s => {
                ctx.beginPath(); ctx.arc(s.x, s.y, 1, 0, Math.PI * 2); ctx.fill();
                s.y += s.speed; if (s.y > canvas.height) s.y = 0;
            });
            requestAnimationFrame(drawStars);
        }
        initStars(); drawStars();

        // 2. INTRO LOGIC (From Photo 8)
        window.onload = () => {
            const prompt = document.getElementById('prompt');
            setTimeout(() => { prompt.style.opacity = "1"; }, 500);
            setTimeout(() => { prompt.style.opacity = "0"; }, 2500);
            setTimeout(() => {
                document.getElementById('intro-overlay').style.opacity = "0";
                setTimeout(() => {
                    document.getElementById('intro-overlay').style.display = "none";
                    document.getElementById('main-content').style.opacity = "1";
                    document.getElementById('main-content').style.pointerEvents = "all";
                }, 1000);
            }, 4000);
        };

        // 3. FPS MODE (From Photo 8)
        let fpsMode = false;
        function toggleFPS() {
            fpsMode = !fpsMode;
            document.getElementById('fps-status').innerText = fpsMode ? "ON" : "OFF";
            document.getElementById('fps-status').style.color = fpsMode ? "#00ff00" : "#ff0000";
        }

        // 4. STEALTH LAUNCH: About:Blank Cloaking [1, 2]
        function launchProxy() {
            const path = document.getElementById('entry-path').value;
            if (!path) return;
            let target = path.includes('://') ? path : 'https://' + path;

            const win = window.open();
            if (!win) return alert("Enable popups for the course portal.");

            const doc = win.document;
            doc.title = "Google Drive"; 
            const iframe = doc.createElement('iframe');
            
            // REPLACE THIS with your actual proxy backend URL
            iframe.src = `https://your-backend-proxy.com{target}`; 
            
            iframe.style.width = "100vw"; iframe.style.height = "100vh";
            iframe.style.border = "none"; iframe.style.position = "fixed";
            iframe.style.top = "0"; iframe.style.left = "0";
            doc.body.style.margin = "0";
            doc.body.appendChild(iframe);
        }

        // 5. TAB CLOAK: Quick cover if a teacher walks by
        document.addEventListener('visibilitychange', () => {
            document.title = document.hidden ? "Untitled document - Google Docs" : "CS Lab 102: Data Structures";
        });
    </script>
</body>
</html>
