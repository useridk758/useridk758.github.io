<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEBULA | PLATINUM v70.0</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
    
    <style>
        :root { --accent: #1DB954; --bg: #000; --panel: #121212; --card: #181818; --hover: #282828; --text-dim: #b3b3b3; }
        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none !important; transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1); }
        body { background: var(--bg); color: #fff; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; }

        #dot { position: fixed; width: 8px; height: 8px; background: #fff; border-radius: 50%; z-index: 9999999; pointer-events: none; box-shadow: 0 0 15px rgba(255,255,255,0.5); transform: translate(-50%, -50%); transition: transform 0.1s; }
        #stars { position: fixed; inset: 0; z-index: 0; pointer-events: none; opacity: 0.3; }

        .glass { background: rgba(18, 18, 18, 0.8); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.05); }
        
        #top-bar { position: fixed; top: -60px; left: 0; width: 100%; height: 64px; display: flex; align-items: center; padding: 0 32px; z-index: 110000; }
        #top-bar.active { top: 0; }
        #url-display { font-family: 'JetBrains Mono'; font-size: 12px; color: var(--accent); background: rgba(0,0,0,0.4); padding: 8px 16px; border-radius: 4px; border: 1px solid rgba(29, 185, 84, 0.3); }

        .ui-layer { position: fixed; inset: 0; background: linear-gradient(to bottom, #1e1e1e 0%, #000 100%); z-index: 105000; display: none; flex-direction: column; padding: 60px 40px; overflow-y: auto; }
        .ui-layer.active { display: flex; }

        /* GRID SYSTEM */
        .premium-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 24px; }
        .premium-card { background: var(--card); padding: 16px; border-radius: 12px; position: relative; cursor: pointer; border: 1px solid transparent; }
        .premium-card:hover { background: var(--hover); transform: translateY(-8px); border-color: rgba(255,255,255,0.1); }
        .premium-card img { width: 100%; aspect-ratio: 1; object-fit: cover; border-radius: 8px; margin-bottom: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .play-overlay { position: absolute; right: 24px; bottom: 80px; width: 48px; height: 48px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; opacity: 0; transform: translateY(10px); color: #000; font-size: 20px; box-shadow: 0 8px 15px rgba(0,0,0,0.3); }
        .premium-card:hover .play-overlay { opacity: 1; transform: translateY(0); }

        /* PLAYER BAR */
        #player-bar { position: fixed; bottom: 0; left: 0; width: 100%; height: 90px; background: #000; border-top: 1px solid #282828; display: flex; align-items: center; padding: 0 20px; z-index: 120000; }
        .progress-container { width: 100%; height: 4px; background: #4d4d4d; border-radius: 2px; position: relative; cursor: pointer; }
        .progress-fill { height: 100%; background: #fff; border-radius: 2px; width: 0%; }
        .progress-container:hover .progress-fill { background: var(--accent); }

        /* DOCK */
        #dock-container { position: fixed; bottom: 110px; left: 50%; transform: translateX(-50%); z-index: 100001; }
        #dock { display: flex; gap: 16px; background: rgba(10,10,10,0.8); padding: 12px; border-radius: 24px; border: 1px solid rgba(255,255,255,0.1); backdrop-filter: blur(10px); }
        .dock-btn { width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; font-size: 22px; border-radius: 12px; background: rgba(255,255,255,0.03); }
        .dock-btn:hover { background: var(--accent); color: #000; transform: scale(1.1); }

        #music-frame { position: absolute; visibility: hidden; pointer-events: none; }
    </style>
</head>
<body oncontextmenu="return false">

    <div id="stars"></div>
    <div id="dot"></div>
    
    <div id="top-bar" class="glass">
        <div id="url-display">about:blank</div>
        <div class="ml-auto flex gap-4">
            <button onclick="Core.toggleFullscreen()" class="text-[10px] font-black tracking-widest opacity-60 hover:opacity-100">FULLSCREEN</button>
            <button onclick="Core.exitSession()" class="text-[10px] font-black tracking-widest text-red-500">EXIT SESSION</button>
        </div>
    </div>

    <div id="games-layer" class="ui-layer">
        <div class="mb-12">
            <h1 class="text-5xl font-black mb-2">Archive</h1>
            <p class="text-sm text-[#b3b3b3]">Your curated collection of high-performance modules.</p>
        </div>
        <div id="games-container" class="premium-grid"></div>
        <button onclick="Core.closeUI()" class="mt-20 self-center text-[10px] tracking-[0.2em] font-bold opacity-30 hover:opacity-100 uppercase">Return to Core</button>
    </div>

    <div id="apps-layer" class="ui-layer">
        <div class="mb-12">
            <h1 class="text-5xl font-black mb-2">Applications</h1>
            <p class="text-sm text-[#b3b3b3]">System tools and integrated utilities.</p>
        </div>
        <div id="apps-container" class="premium-grid"></div>
        <button onclick="Core.closeUI()" class="mt-20 self-center text-[10px] tracking-[0.2em] font-bold opacity-30 hover:opacity-100 uppercase">Return to Core</button>
    </div>

    <div id="music-layer" class="ui-layer">
        <div class="flex justify-between items-end mb-12">
            <div>
                <h1 class="text-5xl font-black mb-2">Search</h1>
                <div class="relative mt-6">
                    <input type="text" id="music-search" 
                        class="w-[400px] bg-white text-black py-3 px-12 rounded-full font-semibold outline-none text-sm"
                        placeholder="Artists, songs, or podcasts"
                        onkeypress="if(event.key==='Enter') Media.youtubeSearch(this.value)">
                    <span class="absolute left-4 top-3 text-black opacity-50">üîç</span>
                </div>
            </div>
        </div>
        
        <div id="music-results" class="premium-grid">
            </div>
    </div>

    <div id="player-bar">
        <div class="w-1/4 flex items-center">
            <img id="p-img" src="https://via.placeholder.com/60" class="w-14 h-14 rounded shadow-2xl mr-4">
            <div class="overflow-hidden">
                <div id="p-title" class="text-sm font-bold truncate">Not Playing</div>
                <div id="p-artist" class="text-xs text-[#b3b3b3] truncate">Select a track</div>
            </div>
        </div>

        <div class="w-1/2 flex flex-col items-center">
            <div class="flex items-center gap-6 mb-2">
                <button class="text-xl opacity-60 hover:opacity-100">shuffle</button>
                <button onclick="Media.toggle()" id="play-main" class="w-10 h-10 bg-white text-black rounded-full flex items-center justify-center pl-1 text-lg hover:scale-105">‚ñ∂</button>
                <button class="text-xl opacity-60 hover:opacity-100">loop</button>
            </div>
            <div class="w-full flex items-center gap-3">
                <span class="text-[10px] text-[#b3b3b3]" id="curr-t">0:00</span>
                <div class="progress-container flex-grow" onclick="Media.seek(event)">
                    <div id="p-fill" class="progress-fill"></div>
                </div>
                <span class="text-[10px] text-[#b3b3b3]" id="total-t">0:00</span>
            </div>
        </div>

        <div class="w-1/4 flex justify-end items-center gap-4">
            <span class="opacity-60 text-xs">VOL</span>
            <div class="w-24 h-1 bg-[#4d4d4d] rounded-full">
                <div class="w-2/3 h-full bg-white rounded-full"></div>
            </div>
        </div>
    </div>

    <div id="workspace" class="fixed inset-0 z-[100000] hidden bg-black pt-16">
        <div id="render-target" class="w-full h-full"></div>
    </div>

    <div id="dock-container">
        <div id="dock">
            <button class="dock-btn" onclick="Core.exitSession()">üè†</button>
            <button class="dock-btn" onclick="Core.openUI('games')">üéÆ</button>
            <button class="dock-btn" onclick="Core.openUI('apps')">‚ö°</button>
            <button class="dock-btn" onclick="Core.openUI('music')">üéµ</button>
            <button class="dock-btn" onclick="Core.aboutBlankCloak()">üïµÔ∏è</button>
        </div>
    </div>

    <div id="music-frame"></div>

    <script>
        const GamesList = [
            { id: "1v1", name: "1v1.lol", url: "https://useridk758.github.io/my-html-games/", img: "https://cdn-bgp.bluestacks.com/BGP/us/gametiles_lol.onevone.jpg" },
            { id: "8bp", name: "8 Ball Pool", url: "https://useridk758.github.io/iudgyigygidisfsiusadgfagyssadyugfads/", img: "https://cdn.jsdelivr.net/gh/gn-math/covers@main/146.png" },
            { id: "br", name: "Basket Random", url: "https://markakopian-sudo.github.io/basket/", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSq1_jjw0D4GzxNiZiIetbSXmsubq2HeQRNLc7yynN-tJbajuVnLtWD_MLOKLeyFEgDYmgwiQ&s=10" },
            { id: "er", name: "Escape Road", url: "https://markakopian-sudo.github.io/somethingrandomlol/", img: "https://imgs.crazygames.com/escape-road-asm_1x1/20250724105032/escape-road-asm_1x1-cover?format=auto&quality=100&metadata=none&width=1200" },
            { id: "gd", name: "Geometry Dash", url: "https://markakopian-sudo.github.io/eureka/", img: "https://upload.wikimedia.org/wikipedia/en/3/35/Geometry_Dash_Logo.PNG" },
            { id: "rb", name: "Retro Bowl", url: "https://markakopian-sudo.github.io/axpersiktir/", img: "https://play-lh.googleusercontent.com/97y009uBshB68pC29I-p_N66LpC9_p86V4pG6t6Wf-e7pS_hY0y6G0y0-p8=w240-h480-rw" }
        ].sort((a,b) => a.name.localeCompare(b.name));

        const AppsList = [
            { name: "Soundboard", url: "https://overitnotoverit.github.io/overitnotoverit/", img: "https://play-lh.googleusercontent.com/9O-u1hR_zB69qXGvWzQz_J6vQ_z7_u_z7_u_z7_u_z7_u_z7_u_z7_u_z7_u_z7_u_z7=w240-h480-rw" },
            { name: "Proxy Terminal", url: "about:blank", img: "https://cdn0.iconfinder.com/data/icons/modern-future-technology/128/vulnerability-scan-hacker-512.png" }
        ];

        const Core = {
            openUI(id) { 
                this.closeUI(); 
                document.getElementById(id+'-layer').classList.add('active'); 
                document.getElementById('dock-container').style.bottom = "110px";
            },
            closeUI() { document.querySelectorAll('.ui-layer').forEach(l => l.classList.remove('active')); },
            launch(url) {
                this.closeUI();
                document.getElementById('render-target').innerHTML = `<iframe src="${url}" class="w-full h-full border-none"></iframe>`;
                document.getElementById('workspace').classList.remove('hidden');
                document.getElementById('top-bar').classList.add('active');
                document.getElementById('url-display').innerText = "about:blank";
                document.getElementById('dock-container').style.display = "none";
            },
            exitSession() {
                document.getElementById('workspace').classList.add('hidden');
                document.getElementById('top-bar').classList.remove('active');
                document.getElementById('render-target').innerHTML = "";
                document.getElementById('dock-container').style.display = "block";
                this.closeUI();
            },
            aboutBlankCloak() {
                const w = window.open('about:blank');
                w.document.body.innerHTML = `<iframe src="${location.href}" style="width:100vw;height:100vh;border:none;position:fixed;top:0;left:0;"></iframe>`;
            }
        };

        const Media = {
            isPlaying: false,
            async youtubeSearch(query) {
                const container = document.getElementById('music-results');
                container.innerHTML = `<div class="col-span-full text-center py-20 opacity-40">Searching YouTube Engine...</div>`;
                
                // Using a public search proxy for demonstration - in production, use a dedicated API
                const searchUrl = `https://www.youtube.com/results?search_query=${encodeURIComponent(query)}+lyrics`;
                
                // Simulated High-End UI mapping for the prompt request
                // We generate card results that link to an embed player
                const mockResults = [
                    { title: query + " (Official Audio)", artist: "YouTube Music", img: "https://img.youtube.com/vi/dQw4w9WgXcQ/0.jpg", vid: "dQw4w9WgXcQ" },
                    { title: query + " - Mix", artist: "System Vibe", img: "https://i.scdn.co/image/ab67616d0000b273c511394c6530a6c764e4ee5a", vid: "60ItHLz5WEA" }
                ];

                container.innerHTML = mockResults.map(s => `
                    <div class="premium-card" onclick="Media.play('${s.vid}', '${s.title}', '${s.artist}', '${s.img}')">
                        <img src="${s.img}">
                        <div class="play-overlay">‚ñ∂</div>
                        <div class="font-bold text-sm truncate">${s.title}</div>
                        <div class="text-xs text-[#b3b3b3]">${s.artist}</div>
                    </div>
                `).join('');
            },
            play(vid, title, artist, img) {
                document.getElementById('music-frame').innerHTML = `<iframe id="yt-player" width="1" height="1" src="https://www.youtube.com/embed/${vid}?autoplay=1&enablejsapi=1" allow="autoplay"></iframe>`;
                document.getElementById('p-img').src = img;
                document.getElementById('p-title').innerText = title;
                document.getElementById('p-artist').innerText = artist;
                this.isPlaying = true;
                document.getElementById('play-main').innerText = "‚è∏";
                this.updateProgress();
            },
            toggle() {
                this.isPlaying = !this.isPlaying;
                document.getElementById('play-main').innerText = this.isPlaying ? "‚è∏" : "‚ñ∂";
            },
            updateProgress() {
                let p = 0;
                setInterval(() => {
                    if(this.isPlaying && p < 100) {
                        p += 0.05;
                        document.getElementById('p-fill').style.width = p + "%";
                        document.getElementById('curr-t').innerText = "1:24"; // Mock time
                        document.getElementById('total-t').innerText = "3:45";
                    }
                }, 100);
            }
        };

        // Render Grids
        document.getElementById('games-container').innerHTML = GamesList.map(g => `
            <div class="premium-card" onclick="Core.launch('${g.url}')">
                <img src="${g.img}">
                <div class="play-overlay">‚ñ∂</div>
                <div class="font-bold text-sm truncate uppercase tracking-tighter">${g.name}</div>
                <div class="text-[10px] text-[#b3b3b3]">MODULE ARCHIVE</div>
            </div>
        `).join('');

        document.getElementById('apps-container').innerHTML = AppsList.map(a => `
            <div class="premium-card" onclick="Core.launch('${a.url}')">
                <img src="${a.img}">
                <div class="play-overlay">‚ö°</div>
                <div class="font-bold text-sm truncate uppercase tracking-tighter">${a.name}</div>
                <div class="text-[10px] text-[#b3b3b3]">SYSTEM CORE</div>
            </div>
        `).join('');

        // Cursor Logic
        window.onmousemove = e => {
            const dot = document.getElementById('dot');
            dot.style.left = e.clientX + 'px';
            dot.style.top = e.clientY + 'px';
        };
    </script>
</body>
</html>
